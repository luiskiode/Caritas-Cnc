<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=devide-width, initial-scale=1">
	<title>Pagina de Registro</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header>
<h1>CARITAS CNC</h1>
<nav>
	<ul>
		<li><a href="index.html">Inicio</a></li>
		<li><a href="Registro.html">Registro</a></li>
        <li><a href="Conocenos.html">Conocenos</a></li>
        <li><a href="Contactanos.html">Contactanos</a></li>
	</ul>
</nav>
</header>
<main>
<h2>Formulario de Registro</h2>
<p>Complete todos los datos requeridos para registrar su solicitud de ayuda.</p>

<form action="submit_registration.html" method="post" enctype="multipart/form-data">
    <label for="name">Nombre y apellidos del solicitante:</label>
    <input type="text" id="name" name="name" required>

    <label for="DNI">DNI del solicitante:</label>
    <input type="text" id="dni" name="dni" required>
    
    <label for="Apellido de la familia">Apellido de la familia:</label>
    <input type="text" id="family_name" name="family_name" required>
    
    <label for="Fecha de registro de solicitud de ayuda">Fecha de registro de solicitud de ayuda:</label>
    <input type="date" id="registration_date" name="registration_date" required>
    
    <label for="Telefono de contacto:">Telefono de contacto:</label>
    <input type="tel" id="contact_phone" name="contact_phone" required>

    <label for="Observaciones">Observaciones:</label>
    <textarea id="observations" name="observations" rows="4" cols="100" required></textarea>

    <label for="Direccion de la familia">Direccion de la familia:</label>
    <input type="text" id="family_address" name="family_address" required>

    <label for="archivo">Subir archivo de registro:</label>
    <input type="file" id="archivo" name="archivo" accept=".pdf,.doc,.docx" required>

  <label for="terminos">Términos y Condiciones</label>
<div class="terminos-scroll">
  <p>
    Al enviar este formulario, usted acepta los siguientes términos y condiciones:<br><br>
    Toda la información brindada queda bajo completa discreción de la organización y se usará solo con fines sociales.<br><br>
    Solo el personal autorizado de CARITAS CNC podrá acceder a los datos para brindar asistencia.<br><br>
    Los datos necesarios podrán compartirse con autoridades para garantizar la transparencia.<br><br>
    Solo el titular de cada familia identificada podrá recoger la ayuda correspondiente.<br><br>
    El mal uso de la información será considerado una violación grave de los términos.<br><br>
    Esta herramienta es una extensión informativa del grupo Caritas CNC, sin relación directa con otras organizaciones.<br><br>
    Caritas se reserva el derecho de modificar estos términos sin previo aviso.
  </p>
</div>

<div class="checkbox">
  <input type="checkbox" id="acepto" name="acepto" required>
  <label for="acepto">Acepto los términos y condiciones</label>
</div>
    <br><br>


    <button type="submit">Enviar solicitud</button>
    </form>

</main>
<footer><p>@2025 Ayuda y apoyo social. Todos los derechos reservados</p></footer>


<script>
  document.getElementById("miFormulario").addEventListener("submit", function(e) {
    e.preventDefault();

    const datos = {
      nombreyapellidodelsolicitante: document.getElementById("name").value,
        DNI: document.getElementById("dni").value,
        Apellidodelafamilia: document.getElementById("family_name").value,
        Fechaderegistrodesolicituddeayuda: document.getElementById("registration_date").value,
        Telefonodecontacto: document.getElementById("contact_phone").value,
        Observaciones: document.getElementById("observations").value,
        Direcciondelafamilia: document.getElementById("family_address").value,
        archivo: document.getElementById("archivo").files[0].name,
        terminos: document.getElementById("acepto").checked,

    };

    fetch("https://script.google.com/macros/s/AKfycbwn3Oz8U8cJH8ky2AGiNgxUcQkQb7vGeMY51yNB2ioxNwlQLL3kz05C-C4mKd3voGgT/exec"
      method: "POST",
      body: JSON.stringify(datos),
      headers: {
        "Content-Type": "application/json",
      }
    })
    .then(res => res.text())
    .then(data => {
      alert("Formulario enviado correctamente");
      document.getElementById("miFormulario").reset();
    })
    .catch(err => alert("Hubo un error: " + err));
  });
</script>

</body>
</html>
